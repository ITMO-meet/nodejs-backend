# README для проекта Node.js Express API

## Описание

Этот проект представляет собой серверное приложение, написанное на Node.js с использованием фреймворка Express. Приложение предоставляет API для аутентификации и регистрации пользователей, взаимодействуя с основным бэкендом через HTTP-запросы.

## Использование

### API

#### Логин

- **URL**: `/auth/login_with_password`
- **Метод**: `POST`
- **Тело запроса**:
  ```json
  {
      "username": "your_username",
      "password": "your_password"
  }
  ```
- **Ответ**: 
  - Успех: Возвращает JSON-объект с полем `redirect`, указывающим на URL для перенаправления, и полем `isu`, содержащим идентификатор пользователя.
  - Ошибка: Возвращает статус и сообщение об ошибке.

#### Дашборд

- **URL**: `/auth/dashboard`
- **Метод**: `GET`
- **Ответ**: Возвращает приветственное сообщение.

#### Регистрация

- **URL**: `/auth/register/select_username`
- **Метод**: `POST`
- **Тело запроса**:
  ```json
  {
      "isu": 999999,
      "username": "your_username"
  }
  ```
- **Ответ**: Возвращает сообщение об успешном обновлении имени пользователя.

- **URL**: `/auth/register/select_preferences`
- **Метод**: `POST`
- **Тело запроса**:
  ```json
  {
      "isu": 999999,
      "gender_preference": "your_gender_preference"
  }
  ```
- **Ответ**: Возвращает сообщение об успешном обновлении предпочтений по полу.

- **URL**: `/auth/register/select_tags`
- **Метод**: `POST`
- **Тело запроса**:
  ```json
  {
      "isu": 999999,
      "tags": ["tag_id1", "tag_id2"]
  }
  ```
- **Ответ**: Возвращает сообщение об успешном выборе тегов.

- **URL**: `/auth/register/upload_logo`
- **Метод**: `POST`
- **Форма данных**: 
  - Параметр `isu`: идентификатор пользователя.
  - Параметр `file`: изображение для загрузки.
- **Ответ**: Возвращает сообщение об успешной загрузке логотипа и URL изображения.

- **URL**: `/auth/register/upload_carousel`
- **Метод**: `POST`
- **Форма данных**: 
  - Параметр `isu`: идентификатор пользователя.
  - Параметр `files`: массив изображений для загрузки.
- **Ответ**: Возвращает сообщение об успешной загрузке карусели изображений и их URL.

- **URL**: `/auth/register/profile_details`
- **Метод**: `POST`
- **Тело запроса**:
  ```json
  {
      "isu": 999999,
      "bio": "Your bio",
      "height": 180,
      "weight": 75,
      "zodiac_sign": "Aquarius"
  }
  ```
- **Ответ**: Возвращает сообщение об успешном обновлении данных профиля.

- **URL**: `/auth/register/select_relationship`
- **Метод**: `POST`
- **Тело запроса**:
  ```json
  {
      "isu": 999999,
      "relationship_preference": ["preference_id1", "preference_id2"]
  }
  ```
- **Ответ**: Возвращает сообщение об успешном выборе предпочтений в отношениях.

### Настройка CORS

Приложение настроено для обработки CORS-запросов. Если вам нужно изменить источник, отредактируйте следующую строку в коде:

```javascript
app.use(cors());
```

### Логирование

Для логирования HTTP-запросов используется библиотека `morgan`.

### Ошибки

В случае возникновения ошибок при обработке запросов, приложение возвращает соответствующий статус и сообщение об ошибке.

## Зависимости

- `express`: веб-фреймворк для Node.js.
- `axios`: библиотека для выполнения HTTP-запросов.
- `morgan`: библиотека для логирования HTTP-запросов.
- `cors`: библиотека для обработки CORS-запросов.
- `body-parser`: библиотека для обработки JSON и URL-кодированных данных.

## Установка

1. Клонируйте репозиторий:
   ```bash
   git clone <репозиторий>
   cd <папка_с_репозиторием>
   ```

2. Установите зависимости:
   ```bash
   npm install
   ```

3. Запустите сервер:
   ```bash
   node app.js
   ```

Сервер будет доступен по адресу `http://localhost:3000`.

---